{"version":3,"file":"index.js","sources":["../../src/node/locales.ts","../../src/node/utils.ts","../../src/node/alias.ts","../../src/node/compact.ts","../../src/node/options.ts","../../src/node/plugin.ts"],"sourcesContent":["import { type WalineLocaleConfig } from \"../shared/index.js\";\r\n\r\n/**\r\n * Default locale config for Waline\r\n */\r\nexport const walineLocales: WalineLocaleConfig = {\r\n  \"/en/\": {\r\n    placeholder:\r\n      \"Write a comment here (Fill in the email address to receive an email notification when being replied)\",\r\n  },\r\n\r\n  \"/zh/\": {\r\n    placeholder: \"请留言。(填写邮箱可在被回复时收到邮件提醒)\",\r\n  },\r\n\r\n  \"/zh-tw/\": {\r\n    placeholder: \"請留言。(填寫信箱可在被回覆時收到郵件提醒)\",\r\n  },\r\n\r\n  \"/de/\": {\r\n    placeholder:\r\n      \"Schreibe ein Kommentar (Geben Sie die E-Mail-Adresse ein, um eine E-Mail-Benachrichtigung zu erhalten, wenn Sie eine Antwort erhalten)\",\r\n  },\r\n\r\n  \"/de-at/\": {\r\n    placeholder:\r\n      \"Schreibe ein Kommentar (Geben Sie die E-Mail-Adresse ein, um eine E-Mail-Benachrichtigung zu erhalten, wenn Sie eine Antwort erhalten)\",\r\n  },\r\n\r\n  \"/vi/\": {\r\n    placeholder:\r\n      \"Để lại bình luận (Điền địa chỉ email để nhận email thông báo khi được trả lời)\",\r\n  },\r\n\r\n  \"/uk/\": {\r\n    placeholder:\r\n      \"Напишіть тут коментар (введіть адресу електронної пошти, щоб отримувати сповіщення електронною поштою, коли буде відповідь)\",\r\n  },\r\n\r\n  \"/ru/\": {\r\n    placeholder:\r\n      \"Напишите комментарий здесь (Введите адрес электронной почты, чтобы получить уведомление по электронной почте при ответе)\",\r\n  },\r\n\r\n  \"/br/\": {\r\n    placeholder:\r\n      \"Escreva um comentário aqui (preencha com o endereço de email para receber notificações quando tiver alguma resposta)\",\r\n  },\r\n\r\n  \"/pl/\": {\r\n    placeholder:\r\n      \"Wpisz tutaj komentarz (wpisz adres e-mail, aby otrzymać powiadomienie e-mail, gdy otrzymasz odpowiedź)\",\r\n  },\r\n\r\n  \"/sk/\": {\r\n    placeholder:\r\n      \"Napíš svoj komentár (vlož svoj e-mail taktiež, aby si bol notifikovaný o odpovediach)\",\r\n  },\r\n\r\n  \"/fr/\": {\r\n    placeholder:\r\n      \"Écrivez votre commentaire ici (Inscrivez votre email afin de recevoir une notification en cas de réponse)\",\r\n  },\r\n\r\n  \"/es/\": {\r\n    placeholder:\r\n      \"Escriba un comentario aquí (Ingrese su correo electrónico para recibir una notificación en caso de respuesta)\",\r\n  },\r\n\r\n  \"/ja/\": {\r\n    placeholder:\r\n      \"伝言をどうぞ (メールアドレスを入力すると、返信があった際にメールでお知らせします。)\",\r\n  },\r\n\r\n  \"/tr/\": {\r\n    placeholder:\r\n      \"Buraya bir yorum yazın (Yanıtlandığında bir e-posta bildirimi almak için e-posta adresinizi girin)\",\r\n  },\r\n\r\n  \"/ko/\": {\r\n    placeholder:\r\n      \"댓글을 남겨주세요 (답글이 달렸을 때 이메일로 알림을 받으려면 이메일 주소를 입력하세요)\",\r\n  },\r\n\r\n  \"/fi/\": {\r\n    placeholder:\r\n      \"Kirjoita kommentti tähän (täytä sähköpostiosoite saadaksesi sähköposti-ilmoituksen vastauksesta)\",\r\n  },\r\n  \"/hu/\": {\r\n    placeholder:\r\n      \"Írj kommentet itt! (Töltsd ki az email címet, hogy értesítést kapj, amikor válaszolnak.)\",\r\n  },\r\n\r\n  \"/id/\": {\r\n    placeholder:\r\n      \"Tulis komentar di sini (Isi alamat email untuk menerima notifikasi jika komentar kamu telah dibalas orang lain)\",\r\n  },\r\n\r\n  \"/nl/\": {\r\n    placeholder:\r\n      \"Schrijf een opmerking hier (Vul je emailadres in om een email-notificatie te ontvangen wanneer er gereageerd wordt.\",\r\n  },\r\n};\r\n","import { getDirname, path } from \"@vuepress/utils\";\r\nimport { Logger, ensureEndingSlash } from \"vuepress-shared/node\";\r\n\r\nconst __dirname = getDirname(import.meta.url);\r\n\r\nexport const CLIENT_FOLDER = ensureEndingSlash(\r\n  path.resolve(__dirname, \"../client\")\r\n);\r\n\r\nexport const COMMENT_PROVIDERS = [\"Artalk\", \"Giscus\", \"Waline\", \"Twikoo\"];\r\n\r\nexport const PLUGIN_NAME = \"vuepress-plugin-comment2\";\r\n\r\nexport const logger = new Logger(PLUGIN_NAME);\r\n","import { noopModule } from \"vuepress-shared/node\";\r\n\r\nimport { CLIENT_FOLDER, COMMENT_PROVIDERS, logger } from \"./utils.js\";\r\n\r\nexport const getProvider = (provider = \"None\"): string => {\r\n  if (COMMENT_PROVIDERS.includes(provider))\r\n    return `${CLIENT_FOLDER}components/${provider}.js`;\r\n\r\n  if (provider !== \"None\") logger.error(`Invalid provider: ${provider}`);\r\n\r\n  return noopModule;\r\n};\r\n","import { logger } from \"./utils.js\";\r\nimport { type CommentOptions } from \"../shared/index.js\";\r\n\r\n/** @deprecated */\r\nexport const convertOptions = (\r\n  options: CommentOptions & {\r\n    /** @deprecated */\r\n    type?: \"waline\" | \"giscus\" | \"twikoo\" | \"none\";\r\n  }\r\n): void => {\r\n  // v2 changes\r\n  if (\"type\" in options) {\r\n    logger.warn(`\"type\" is deprecated, please use \"provider\".`);\r\n\r\n    if (options[\"type\"] === \"waline\") options.provider = \"Waline\";\r\n    else if (options[\"type\"] === \"giscus\") options.provider = \"Giscus\";\r\n    else if (options[\"type\"] === \"twikoo\") options.provider = \"Twikoo\";\r\n\r\n    delete options[\"type\"];\r\n  }\r\n\r\n  // convert Waline options\r\n  if (options.provider === \"Waline\") {\r\n    [\r\n      // valine\r\n      [\"emojiCDN\", \"emoji\"],\r\n      [\"emojiMaps\", \"emoji\"],\r\n      [\"requiredFields\", \"requiredMeta\"],\r\n      [\"visitor\", \"pageview\"],\r\n      [\"langMode\", \"locale\"],\r\n      [\"placeholder\", \"locale.placeholder\"],\r\n\r\n      // waline v1\r\n      [\"anonymous\", \"login\"],\r\n      [\"copyRight\", \"copyright\"],\r\n    ].forEach(([oldOptions, newOptions]) => {\r\n      if (oldOptions in options) {\r\n        logger.warn(\r\n          `\"${oldOptions}\" is deprecated in @waline/client@v2, you should use \"${newOptions}\" instead.`\r\n        );\r\n\r\n        // @ts-ignore\r\n        delete options[oldOptions];\r\n      }\r\n    });\r\n\r\n    [\r\n      // valine\r\n      \"region\",\r\n      \"appId\",\r\n      \"appKey\",\r\n      \"notify\",\r\n      \"verify\",\r\n      \"avatar\",\r\n      \"avatarForce\",\r\n      \"enableQQ\",\r\n      \"recordIP\",\r\n      \"serverURLs\",\r\n\r\n      // waline v1\r\n      \"avatarCDN\",\r\n      \"mathTagSupport\",\r\n      \"highlight\",\r\n      \"uploadImage\",\r\n      \"previewMath\",\r\n    ].forEach((option) => {\r\n      if (option in options) {\r\n        logger.error(\r\n          `\"${option}\" is no longer supported in @waline/client@v2.`\r\n        );\r\n\r\n        // @ts-expect-error\r\n        delete options[option];\r\n      }\r\n    });\r\n  }\r\n};\r\n","import { type App } from \"@vuepress/core\";\r\nimport { colors } from \"@vuepress/utils\";\r\n\r\nimport { COMMENT_PROVIDERS, logger } from \"./utils.js\";\r\nimport { type CommentOptions } from \"../shared/index.js\";\r\n\r\nexport const applyDemo = (options: CommentOptions, app: App): void => {\r\n  const { isDev } = app.env;\r\n\r\n  options.provider =\r\n    options.provider && COMMENT_PROVIDERS.includes(options.provider)\r\n      ? options.provider\r\n      : \"None\";\r\n\r\n  switch (options.provider) {\r\n    case \"Artalk\":\r\n      if (!options.server)\r\n        if (isDev) {\r\n          logger.info(\r\n            `A fallback Artalk server is used ${colors.red(\r\n              \"for demo only\"\r\n            )}. You should provide ${colors.magenta(\r\n              \"server\"\r\n            )} option yourself in production.`\r\n          );\r\n\r\n          options.site = \"artalk-demo\";\r\n          options.server = \"https://demo-artalk.jjdxb.top/\";\r\n        } else {\r\n          logger.error(`${colors.magenta(\"site\")} is required for Artalk.`);\r\n        }\r\n\r\n      break;\r\n\r\n    case \"Giscus\":\r\n      if (\r\n        !options.repo &&\r\n        !options.repoId &&\r\n        !options.category &&\r\n        !options.categoryId &&\r\n        isDev\r\n      ) {\r\n        logger.info(\r\n          `A fallback GitHub repo is used ${colors.red(\r\n            \"for demo only\"\r\n          )}. You should provide ${colors.magenta(\"repo\")}, ${colors.magenta(\r\n            \"repoId\"\r\n          )}, ${colors.magenta(\"category\")} and ${colors.magenta(\r\n            \"categoryId\"\r\n          )} option yourself in production.`\r\n        );\r\n\r\n        options.repo = \"vuepress-theme-hope/giscus-discussions\";\r\n        options.repoId = \"R_kgDOG_Pt2A\";\r\n        options.category = \"Announcements\";\r\n        options.categoryId = \"DIC_kwDOG_Pt2M4COD69\";\r\n      } else {\r\n        if (!options.repo)\r\n          logger.error(`${colors.magenta(\"repo\")} is required for Giscus.`);\r\n        if (!options.repoId)\r\n          logger.error(`${colors.magenta(\"repoId\")} is required for Giscus.`);\r\n        if (!options.category)\r\n          logger.error(`${colors.magenta(\"category\")} is required for Giscus.`);\r\n        if (!options.categoryId)\r\n          logger.error(\r\n            `${colors.magenta(\"categoryId\")} is required for Giscus.`\r\n          );\r\n      }\r\n\r\n      break;\r\n\r\n    case \"Waline\":\r\n      if (!options.serverURL)\r\n        if (isDev) {\r\n          options.serverURL = \"https://waline-comment.vuejs.press\";\r\n\r\n          logger.info(\r\n            `A fallback Waline server is used ${colors.red(\r\n              \"for demo only\"\r\n            )}. You should provide ${colors.magenta(\r\n              \"serverURL\"\r\n            )} option yourself in production.`\r\n          );\r\n        } else {\r\n          logger.error(\r\n            `${colors.magenta(\"serverURL\")} is required for Waline.`\r\n          );\r\n        }\r\n\r\n      break;\r\n\r\n    case \"Twikoo\":\r\n      if (!options.envId)\r\n        if (isDev) {\r\n          logger.info(\r\n            `A fallback Twikoo server is used ${colors.red(\r\n              \"for demo only\"\r\n            )}. You should provide ${colors.magenta(\r\n              \"envId\"\r\n            )} option yourself in production.`\r\n          );\r\n\r\n          options.envId = \"https://twikoo.ccknbc.vercel.app\";\r\n        } else {\r\n          logger.error(`${colors.magenta(\"envId\")} is required for Twikoo.`);\r\n        }\r\n\r\n      break;\r\n  }\r\n};\r\n","import { type PluginFunction } from \"@vuepress/core\";\r\nimport { getDirname, path } from \"@vuepress/utils\";\r\nimport { useSassPalettePlugin } from \"vuepress-plugin-sass-palette\";\r\nimport {\r\n  addCustomElement,\r\n  addViteOptimizeDepsExclude,\r\n  addViteOptimizeDepsInclude,\r\n  addViteSsrExternal,\r\n  checkVersion,\r\n  getLocales,\r\n} from \"vuepress-shared/node\";\r\n\r\nimport { getProvider } from \"./alias.js\";\r\nimport { convertOptions } from \"./compact.js\";\r\nimport { walineLocales } from \"./locales.js\";\r\nimport { applyDemo } from \"./options.js\";\r\nimport { PLUGIN_NAME, logger } from \"./utils.js\";\r\nimport { type CommentOptions } from \"../shared/index.js\";\r\n\r\nconst __dirname = getDirname(import.meta.url);\r\n\r\n/** Comment Plugin */\r\nexport const commentPlugin =\r\n  (options: CommentOptions, legacy = true): PluginFunction =>\r\n  (app) => {\r\n    // TODO: Remove this in v2 stable\r\n    if (legacy)\r\n      convertOptions(options as CommentOptions & Record<string, unknown>);\r\n    checkVersion(app, PLUGIN_NAME, \"2.0.0-beta.61\");\r\n\r\n    if (app.env.isDebug) logger.info(\"Options:\", options);\r\n\r\n    applyDemo(options, app);\r\n\r\n    const userWalineLocales =\r\n      options.provider === \"Waline\"\r\n        ? getLocales({\r\n            app,\r\n            name: \"waline\",\r\n            default: walineLocales,\r\n            config: options.locales,\r\n          })\r\n        : {};\r\n\r\n    // remove locales so that they won’t be injected in client twice\r\n    if (options.provider === \"Waline\" && \"locales\" in options)\r\n      delete options.locales;\r\n\r\n    useSassPalettePlugin(app, { id: \"hope\" });\r\n\r\n    return {\r\n      name: PLUGIN_NAME,\r\n\r\n      alias: {\r\n        [`${PLUGIN_NAME}/provider`]: getProvider(options.provider),\r\n      },\r\n\r\n      define: () => ({\r\n        COMMENT_OPTIONS: options,\r\n        ...(options.provider === \"Waline\"\r\n          ? {\r\n              WALINE_LOCALES: userWalineLocales,\r\n              WALINE_META: options.metaIcon !== false,\r\n            }\r\n          : {}),\r\n      }),\r\n\r\n      extendsBundlerOptions: (bundlerOptions: unknown, app): void => {\r\n        switch (options.provider) {\r\n          case \"Artalk\": {\r\n            addViteOptimizeDepsInclude(bundlerOptions, app, \"artalk\");\r\n            addViteSsrExternal(bundlerOptions, app, \"artalk\");\r\n            break;\r\n          }\r\n\r\n          case \"Giscus\": {\r\n            addCustomElement(bundlerOptions, app, \"GiscusWidget\");\r\n            addViteSsrExternal(bundlerOptions, app, \"giscus\");\r\n            break;\r\n          }\r\n\r\n          case \"Waline\": {\r\n            addViteOptimizeDepsInclude(bundlerOptions, app, \"autosize\");\r\n            addViteOptimizeDepsExclude(bundlerOptions, app, \"@waline/client\");\r\n            addViteSsrExternal(bundlerOptions, app, \"@waline/client\");\r\n            break;\r\n          }\r\n\r\n          case \"Twikoo\": {\r\n            addViteOptimizeDepsInclude(bundlerOptions, app, \"twikoo\");\r\n            addViteSsrExternal(bundlerOptions, app, \"twikoo\");\r\n            break;\r\n          }\r\n        }\r\n      },\r\n\r\n      clientConfigFile: path.resolve(__dirname, \"../client/config.js\"),\r\n    };\r\n  };\r\n"],"names":["__dirname","app"],"mappings":"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"}