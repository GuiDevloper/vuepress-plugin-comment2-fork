{"version":3,"file":"config.js","sources":["../../src/client/config.ts"],"sourcesContent":["import { defineClientConfig, usePageFrontmatter } from \"@vuepress/client\";\r\nimport { type VNode, computed, defineComponent, h } from \"vue\";\r\nimport CommentProvider from \"vuepress-plugin-comment2/provider\";\r\n\r\nimport {\r\n  type CommentOptions,\r\n  type CommentPluginFrontmatter,\r\n} from \"../shared/index.js\";\r\n\r\ndeclare const COMMENT_OPTIONS: CommentOptions;\r\n\r\nconst enableComment = COMMENT_OPTIONS.comment !== false;\r\n\r\nconst CommentService = defineComponent({\r\n  name: \"CommentService\",\r\n\r\n  props: {\r\n    /**\r\n     * Whether the component is in darkmode\r\n     *\r\n     * 组件是否处于夜间模式\r\n     */\r\n    darkmode: Boolean,\r\n  },\r\n\r\n  setup(props) {\r\n    const frontmatter = usePageFrontmatter<CommentPluginFrontmatter>();\r\n\r\n    const enabled = computed(() => {\r\n      return (\r\n        frontmatter.value.comment ||\r\n        (enableComment && frontmatter.value.comment !== false)\r\n      );\r\n    });\r\n\r\n    return (): VNode | null =>\r\n      h(CommentProvider, {\r\n        darkmode: props.darkmode,\r\n        style: { display: enabled.value ? \"block\" : \"none\" },\r\n      });\r\n  },\r\n});\r\n\r\nexport default defineClientConfig({\r\n  enhance: ({ app }) => {\r\n    app.component(\"CommentService\", CommentService);\r\n  },\r\n});\r\n"],"names":[],"mappings":";;;;AAWA,MAAM,aAAA,GAAgB,gBAAgB,OAAY,KAAA,KAAA,CAAA;AAElD,MAAM,iBAAiB,eAAgB,CAAA;AAAA,EACrC,IAAM,EAAA,gBAAA;AAAA,EAEN,KAAO,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAML,QAAU,EAAA,OAAA;AAAA,GACZ;AAAA,EAEA,MAAM,KAAO,EAAA;AACX,IAAA,MAAM,cAAc,kBAA6C,EAAA,CAAA;AAEjE,IAAM,MAAA,OAAA,GAAU,SAAS,MAAM;AAC7B,MAAA,OACE,YAAY,KAAM,CAAA,OAAA,IACjB,aAAiB,IAAA,WAAA,CAAY,MAAM,OAAY,KAAA,KAAA,CAAA;AAAA,KAEnD,CAAA,CAAA;AAED,IAAO,OAAA,MACL,EAAE,eAAiB,EAAA;AAAA,MACjB,UAAU,KAAM,CAAA,QAAA;AAAA,MAChB,OAAO,EAAE,OAAA,EAAS,OAAQ,CAAA,KAAA,GAAQ,UAAU,MAAO,EAAA;AAAA,KACpD,CAAA,CAAA;AAAA,GACL;AACF,CAAC,CAAA,CAAA;AAED,aAAe,kBAAmB,CAAA;AAAA,EAChC,OAAS,EAAA,CAAC,EAAE,GAAA,EAAU,KAAA;AACpB,IAAI,GAAA,CAAA,SAAA,CAAU,kBAAkB,cAAc,CAAA,CAAA;AAAA,GAChD;AACF,CAAC,CAAA;;;;"}